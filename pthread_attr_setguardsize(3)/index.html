<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="리눅스 매뉴얼 페이지 일부 한글 번역">
    
    <link rel="canonical" href="https://wariua.github.io/man-pages-ko/pthread_attr_setguardsize(3)/">
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>Pthread attr setguardsize(3) - man-pages-ko</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/idea.min.css">
        
    
    <link href="../css/style.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">man-pages-ko</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../section_file/">File</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_ipc/">IPC</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_memory/">Memory</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_network/">Network</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_process/">Process</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_thread/">Thread</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_trouble_shooting/">Trouble Shooting</a>
                    </li>
                
                
                
                    <li >
                        <a href="../section_others/">Others</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#name">NAME</a></li>
        <li class="first-level "><a href="#synopsis">SYNOPSIS</a></li>
        <li class="first-level "><a href="#description">DESCRIPTION</a></li>
        <li class="first-level "><a href="#return-value">RETURN VALUE</a></li>
        <li class="first-level "><a href="#errors">ERRORS</a></li>
        <li class="first-level "><a href="#versions">VERSIONS</a></li>
        <li class="first-level "><a href="#attributes">ATTRIBUTES</a></li>
        <li class="first-level "><a href="#conforming-to">CONFORMING TO</a></li>
        <li class="first-level "><a href="#notes">NOTES</a></li>
        <li class="first-level "><a href="#bugs">BUGS</a></li>
        <li class="first-level "><a href="#example">EXAMPLE</a></li>
        <li class="first-level "><a href="#see-also">SEE ALSO</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="name">NAME</h2>
<p>pthread_attr_setguardsize, pthread_attr_getguardsize - 스레드 속성 객체의 방호 구역 크기 설정하기/얻기</p>
<h2 id="synopsis">SYNOPSIS</h2>
<pre><code class="c">#include &lt;pthread.h&gt;

int pthread_attr_setguardsize(pthread_attr_t *attr, size_t guardsize);
int pthread_attr_getguardsize(const pthread_attr_t *attr, size_t *guardsize);
</code></pre>

<p><code>-pthread</code>로 컴파일 및 링크.</p>
<h2 id="description">DESCRIPTION</h2>
<p><code>pthread_attr_setguardsize()</code> 함수는 <code>attr</code>이 가리키는 스레드 속성 객체의 방호 구역 크기 속성을 <code>guardsize</code>에 지정한 값으로 설정한다.</p>
<p><code>guardsize</code>가 0보다 크면 <code>attr</code>을 이용해 생성하는 새 스레드 각각에 대해 시스템에서 스레드 스택 끝에 최소 <code>guardsize</code> 바이트의 영역을 추가로 할당해서 스택의 방호 구역 역할을 하게 한다. (하지만 BUGS 참고.)</p>
<p><code>guardsize</code>가 0이면 <code>attr</code>로 생성하는 새 스레드에 방호 구역이 없게 된다.</p>
<p>기본 방호 구역 크기는 시스템 페이지 크기와 같다.</p>
<p><code>attr</code>에 (<tt>[[pthread_attr_setstack(3)]]</tt>이나 <tt>[[pthread_attr_setstackaddr(3)]]</tt>로) 스택 주소 속성이 설정되어 스레드의 스택을 호출자가 할당하는 경우에는 방호 구역 크기 속성을 무시한다. (즉 시스템에서 어떤 방호 구역도 만들지 않는다.) 응용이 스택 오버플로우 처리를 책임진다. (<tt>[[mprotect(2)]]</tt>를 이용해 할당한 스택 끝에 방호 구역을 수동으로 지정할 수 있을 것이다.)</p>
<p><code>pthread_attr_getguardsize()</code> 함수는 <code>attr</code>이 가리키는 스레드 속성 객체의 방호 구역 크기 속성을 <code>guardsize</code>가 가리키는 버퍼로 반환한다.</p>
<h2 id="return-value">RETURN VALUE</h2>
<p>성공 시 이 함수들은 0을 반환한다. 오류 시 0 아닌 오류 번호를 반환한다.</p>
<h2 id="errors">ERRORS</h2>
<p>POSIX.1에서는 <code>attr</code>이나 <code>guardsize</code>가 유효하지 않은 경우 <code>EINVAL</code> 오류를 적고 있다. 리눅스에서는 이 함수들이 항상 성공한다. (그렇기는 하지만 이식 가능하고 미래를 대비하는 응용에서는 가능한 오류 반환을 처리해야 할 것이다.)</p>
<h2 id="versions">VERSIONS</h2>
<p>glibc 버전 2.1부터 이 함수들을 제공한다.</p>
<h2 id="attributes">ATTRIBUTES</h2>
<p>이 절에서 사용하는 용어들에 대한 설명은 <tt>[[attributes(7)]]</tt>를 보라.</p>
<table>
<thead>
<tr>
<th>인터페이스</th>
<th>속성</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pthread_attr_setguardsize()</code>,<br><code>pthread_attr_getguardsize()</code></td>
<td>스레드 안전성</td>
<td>MT-Safe</td>
</tr>
</tbody>
</table>
<h2 id="conforming-to">CONFORMING TO</h2>
<p>POSIX.1-2001, POSIX.1-2008.</p>
<h2 id="notes">NOTES</h2>
<p>방호 구역은 읽기 및 쓰기 접근을 막도록 보호된 가상 메모리 페이지들로 이뤄진다. 스레드가 그 방호 구역으로 스택을 넘치게 하면 대부분의 하드웨어 아키텍처에서 오버플로우를 알리는 <code>SIGSEGV</code> 시그널을 받는다. 방호 구역은 페이지 경계에서 시작하며 스레드 생성 시에 내부적으로 방호 구역 크기를 시스템 페이지 크기로 올림 한다. (그렇게 해도 <code>pthread_attr_getguardsize()</code>는 <code>pthread_attr_setguardsize()</code>로 설정했던 방호 구역 크기를 반환한다.)</p>
<p>스레드를 많이 생성하며 스택 오버플로우가 절대 발생하지 않는 걸 아는 응용에서는 방호 구역 크기를 0으로 설정하는 게 메모리 절약에 도움이 될 수 있다.</p>
<p>스레드가 스택에 큰 자료 구조를 할당하는 경우 스택 오버플로우 탐지를 위해 기본보다 큰 방호 구역 크기를 택하는 것이 필요할 수 있다.</p>
<h2 id="bugs">BUGS</h2>
<p>glibc 2.8 기준으로 NPTL 스레딩 구현에서는 POSIX.1의 요구대로 스택 끝에 추가 공간을 할당하지 않고 스택 할당 크기에 방호 구역 크기를 포함한다. (그래서 방호 구역 크기 값이 아주 커서 실제 스택을 위한 공간이 없는 경우 <tt>[[pthread_create(3)]]</tt>에서 <code>EINVAL</code> 오류가 발생할 수 있다.)</p>
<p>구식 LinuxThreads 구현에서는 올바로 스택 끝에 방호 구역을 위한 추가 공간을 할당한다.</p>
<h2 id="example">EXAMPLE</h2>
<p><tt>[[pthread_getattr_np(3)]]</tt> 참고.</p>
<h2 id="see-also">SEE ALSO</h2>
<p><tt>[[mmap(2)]]</tt>, <tt>[[mprotect(2)]]</tt>, <tt>[[pthread_attr_init(3)]]</tt>, <tt>[[pthread_attr_setstack(3)]]</tt>, <tt>[[pthread_attr_setstacksize(3)]]</tt>, <tt>[[pthread_create(3)]]</tt>, <tt>[[pthreads(7)]]</tt></p>
<hr />
<p>2017-09-15</p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
